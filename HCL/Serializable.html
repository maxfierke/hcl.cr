<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.32.1">

<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="github.com/maxfierke/hcl.cr">
  <title>HCL::Serializable - github.com/maxfierke/hcl.cr</title>
  <script type="text/javascript">
    CrystalDoc.base_path = "../";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/toplevel" data-name="top level namespace">
      <a href="../toplevel.html">Top Level Namespace</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Array" data-name="array(t)">
      <a href="../Array.html">Array</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Bool" data-name="bool">
      <a href="../Bool.html">Bool</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Hash" data-name="hash(k, v)">
      <a href="../Hash.html">Hash</a>
      
    </li>
  
  <li class="parent open current" data-id="github.com/maxfierke/hcl.cr/HCL" data-name="hcl">
      <a href="../HCL.html">HCL</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/maxfierke/hcl.cr/HCL/Any" data-name="hcl::any">
      <a href="../HCL/Any.html">Any</a>
      
        <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Any/RawType" data-name="hcl::any::rawtype">
      <a href="../HCL/Any/RawType.html">RawType</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Any/Type" data-name="hcl::any::type">
      <a href="../HCL/Any/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/ArityMismatchError" data-name="hcl::aritymismatcherror">
      <a href="../HCL/ArityMismatchError.html">ArityMismatchError</a>
      
    </li>
  
  <li class="parent " data-id="github.com/maxfierke/hcl.cr/HCL/AST" data-name="hcl::ast">
      <a href="../HCL/AST.html">AST</a>
      
        <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Block" data-name="hcl::ast::block">
      <a href="../HCL/AST/Block.html">Block</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/BlockLabel" data-name="hcl::ast::blocklabel">
      <a href="../HCL/AST/BlockLabel.html">BlockLabel</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Body" data-name="hcl::ast::body">
      <a href="../HCL/AST/Body.html">Body</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/CallExpr" data-name="hcl::ast::callexpr">
      <a href="../HCL/AST/CallExpr.html">CallExpr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/CondExpr" data-name="hcl::ast::condexpr">
      <a href="../HCL/AST/CondExpr.html">CondExpr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Document" data-name="hcl::ast::document">
      <a href="../HCL/AST/Document.html">Document</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Expression" data-name="hcl::ast::expression">
      <a href="../HCL/AST/Expression.html">Expression</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/GetAttrExpr" data-name="hcl::ast::getattrexpr">
      <a href="../HCL/AST/GetAttrExpr.html">GetAttrExpr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Heredoc" data-name="hcl::ast::heredoc">
      <a href="../HCL/AST/Heredoc.html">Heredoc</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Identifier" data-name="hcl::ast::identifier">
      <a href="../HCL/AST/Identifier.html">Identifier</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/IndexExpr" data-name="hcl::ast::indexexpr">
      <a href="../HCL/AST/IndexExpr.html">IndexExpr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/List" data-name="hcl::ast::list">
      <a href="../HCL/AST/List.html">List</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Literal" data-name="hcl::ast::literal">
      <a href="../HCL/AST/Literal.html">Literal</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Map" data-name="hcl::ast::map">
      <a href="../HCL/AST/Map.html">Map</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Node" data-name="hcl::ast::node">
      <a href="../HCL/AST/Node.html">Node</a>
      
    </li>
  
  <li class="parent " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Number" data-name="hcl::ast::number">
      <a href="../HCL/AST/Number.html">Number</a>
      
        <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Number/Value" data-name="hcl::ast::number::value">
      <a href="../HCL/AST/Number/Value.html">Value</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Operand" data-name="hcl::ast::operand">
      <a href="../HCL/AST/Operand.html">Operand</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/OpExpr" data-name="hcl::ast::opexpr">
      <a href="../HCL/AST/OpExpr.html">OpExpr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/SplatExpr" data-name="hcl::ast::splatexpr">
      <a href="../HCL/AST/SplatExpr.html">SplatExpr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/Template" data-name="hcl::ast::template">
      <a href="../HCL/AST/Template.html">Template</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/AST/TemplateInterpolation" data-name="hcl::ast::templateinterpolation">
      <a href="../HCL/AST/TemplateInterpolation.html">TemplateInterpolation</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Attribute" data-name="hcl::attribute">
      <a href="../HCL/Attribute.html">Attribute</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Block" data-name="hcl::block">
      <a href="../HCL/Block.html">Block</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Builder" data-name="hcl::builder">
      <a href="../HCL/Builder.html">Builder</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/BuildError" data-name="hcl::builderror">
      <a href="../HCL/BuildError.html">BuildError</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/CallError" data-name="hcl::callerror">
      <a href="../HCL/CallError.html">CallError</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/ExpressionContext" data-name="hcl::expressioncontext">
      <a href="../HCL/ExpressionContext.html">ExpressionContext</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/ExpressionError" data-name="hcl::expressionerror">
      <a href="../HCL/ExpressionError.html">ExpressionError</a>
      
    </li>
  
  <li class="parent " data-id="github.com/maxfierke/hcl.cr/HCL/Function" data-name="hcl::function">
      <a href="../HCL/Function.html">Function</a>
      
        <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Function/ArgumentTypeError" data-name="hcl::function::argumenttypeerror">
      <a href="../HCL/Function/ArgumentTypeError.html">ArgumentTypeError</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Function/FunctionArgumentError" data-name="hcl::function::functionargumenterror">
      <a href="../HCL/Function/FunctionArgumentError.html">FunctionArgumentError</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Function/FunctionEvalError" data-name="hcl::function::functionevalerror">
      <a href="../HCL/Function/FunctionEvalError.html">FunctionEvalError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/maxfierke/hcl.cr/HCL/Functions" data-name="hcl::functions">
      <a href="../HCL/Functions.html">Functions</a>
      
        <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Abs" data-name="hcl::functions::abs">
      <a href="../HCL/Functions/Abs.html">Abs</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Coalesce" data-name="hcl::functions::coalesce">
      <a href="../HCL/Functions/Coalesce.html">Coalesce</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Compact" data-name="hcl::functions::compact">
      <a href="../HCL/Functions/Compact.html">Compact</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Concat" data-name="hcl::functions::concat">
      <a href="../HCL/Functions/Concat.html">Concat</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Format" data-name="hcl::functions::format">
      <a href="../HCL/Functions/Format.html">Format</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/HasIndex" data-name="hcl::functions::hasindex">
      <a href="../HCL/Functions/HasIndex.html">HasIndex</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Int" data-name="hcl::functions::int">
      <a href="../HCL/Functions/Int.html">Int</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/JSONDecode" data-name="hcl::functions::jsondecode">
      <a href="../HCL/Functions/JSONDecode.html">JSONDecode</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/JSONEncode" data-name="hcl::functions::jsonencode">
      <a href="../HCL/Functions/JSONEncode.html">JSONEncode</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Length" data-name="hcl::functions::length">
      <a href="../HCL/Functions/Length.html">Length</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Lower" data-name="hcl::functions::lower">
      <a href="../HCL/Functions/Lower.html">Lower</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Max" data-name="hcl::functions::max">
      <a href="../HCL/Functions/Max.html">Max</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Min" data-name="hcl::functions::min">
      <a href="../HCL/Functions/Min.html">Min</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/SetHas" data-name="hcl::functions::sethas">
      <a href="../HCL/Functions/SetHas.html">SetHas</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/SetIntersection" data-name="hcl::functions::setintersection">
      <a href="../HCL/Functions/SetIntersection.html">SetIntersection</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/SetSubtract" data-name="hcl::functions::setsubtract">
      <a href="../HCL/Functions/SetSubtract.html">SetSubtract</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/SetSymDiff" data-name="hcl::functions::setsymdiff">
      <a href="../HCL/Functions/SetSymDiff.html">SetSymDiff</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/SetUnion" data-name="hcl::functions::setunion">
      <a href="../HCL/Functions/SetUnion.html">SetUnion</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Strlen" data-name="hcl::functions::strlen">
      <a href="../HCL/Functions/Strlen.html">Strlen</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Substr" data-name="hcl::functions::substr">
      <a href="../HCL/Functions/Substr.html">Substr</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Functions/Upper" data-name="hcl::functions::upper">
      <a href="../HCL/Functions/Upper.html">Upper</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/FunctionUndefinedError" data-name="hcl::functionundefinederror">
      <a href="../HCL/FunctionUndefinedError.html">FunctionUndefinedError</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Label" data-name="hcl::label">
      <a href="../HCL/Label.html">Label</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/ParseException" data-name="hcl::parseexception">
      <a href="../HCL/ParseException.html">ParseException</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Parser" data-name="hcl::parser">
      <a href="../HCL/Parser.html">Parser</a>
      
    </li>
  
  <li class="parent open current" data-id="github.com/maxfierke/hcl.cr/HCL/Serializable" data-name="hcl::serializable">
      <a href="../HCL/Serializable.html">Serializable</a>
      
        <ul>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Serializable/Options" data-name="hcl::serializable::options">
      <a href="../HCL/Serializable/Options.html">Options</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Serializable/Strict" data-name="hcl::serializable::strict">
      <a href="../HCL/Serializable/Strict.html">Strict</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/Serializable/Unmapped" data-name="hcl::serializable::unmapped">
      <a href="../HCL/Serializable/Unmapped.html">Unmapped</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/HCL/VariableUndefinedError" data-name="hcl::variableundefinederror">
      <a href="../HCL/VariableUndefinedError.html">VariableUndefinedError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/NamedTuple" data-name="namedtuple(**t)">
      <a href="../NamedTuple.html">NamedTuple</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Nil" data-name="nil">
      <a href="../Nil.html">Nil</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Number" data-name="number">
      <a href="../Number.html">Number</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Object" data-name="object">
      <a href="../Object.html">Object</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Reference" data-name="reference">
      <a href="../Reference.html">Reference</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Set" data-name="set(t)">
      <a href="../Set.html">Set</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/String" data-name="string">
      <a href="../String.html">String</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Symbol" data-name="symbol">
      <a href="../Symbol.html">Symbol</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Tuple" data-name="tuple(*t)">
      <a href="../Tuple.html">Tuple</a>
      
    </li>
  
  <li class=" " data-id="github.com/maxfierke/hcl.cr/Value" data-name="value">
      <a href="../Value.html">Value</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">module</span> HCL::Serializable

</h1>





  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>The <code><a href="../HCL/Serializable.html">HCL::Serializable</a></code> module automatically generates methods for HCL serialization and deserialization when included.</p>

<h3><a id="example" class="anchor" href="#example">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Example</h3>

<pre><code><span class="k">require</span> <span class="s">&quot;hcl&quot;</span>

<span class="k">class</span> <span class="t">Location</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>(key: <span class="s">&quot;lat&quot;</span>)]
  property latitude : <span class="t">Float64</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>(key: <span class="s">&quot;lng&quot;</span>)]
  property longitude : <span class="t">Float64</span>
<span class="k">end</span>

<span class="k">class</span> <span class="t">House</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>]
  property address : <span class="t">String</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Block</span>]
  property location : <span class="t">Location</span>?
<span class="k">end</span>

hcl_house <span class="o">=</span> <span class="s">&lt;&lt;-HCL
  address = &quot;Crystal Road 1234&quot;
  location {
    lat = 12.3
    lng = 34.5
  }

HCL</span>
house <span class="o">=</span> <span class="t">House</span>.from_hcl(hcl_house)
house.address  <span class="c"># =&gt; &quot;Crystal Road 1234&quot;</span>
house.location <span class="c"># =&gt; #&lt;Location:0x10cd93d80 @latitude=12.3, @longitude=34.5&gt;</span>
house.to_hcl  <span class="c"># =&gt; &quot;</span>
  address <span class="o">=</span></code></pre>

<h3><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h3>

<p>Including <code><a href="../HCL/Serializable.html">HCL::Serializable</a></code> will create <code><a href="../HCL/Serializable.html#to_hcl-instance-method">#to_hcl</a></code> and <code>self.from_hcl</code> methods on the current class,
and a constructor which takes an <code><a href="../HCL/AST/Body.html">HCL::AST::Body</a></code> and an <code><a href="../HCL/ExpressionContext.html">HCL::ExpressionContext</a></code>.
By default, these methods serialize into an HCL document containing the value of every tagged instance
variable, the keys being the instance variable name. Most primitives and collections supported as
instance variable values (string, integer, array, hash, etc.), along with objects which define
<code><a href="../HCL/Serializable.html#to_hcl(builder:HCL::Builder)-instance-method">#to_hcl(builder : HCL::Builder)</a></code>.</p>

<p>Union types are supported for attributes and blocks, including unions with <code><a href="../Nil.html">Nil</a></code>.
If multiple types in a union parse correctly, it is undefined which one will be chosen.</p>

<p>To denote an individual instance variable to be parsed and serialized, the annotation <code><a href="../HCL/Attribute.html">HCL::Attribute</a></code>
must be placed on the instance variable. Annotating property, getter and setter macros is also allowed.</p>

<pre><code><span class="k">require</span> <span class="s">&quot;hcl&quot;</span>

<span class="k">class</span> <span class="t">A</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>(key: <span class="s">&quot;my_key&quot;</span>, emit_null: <span class="n">true</span>)]
  getter a : <span class="t">Int32</span>?
<span class="k">end</span></code></pre>

<p><code><a href="../HCL/Attribute.html">HCL::Attribute</a></code> properties:</p>

<ul><li><strong>key</strong>: the value of the key in the HCL document or block (by default the name of the instance variable)</li><li><strong>emit_null</strong>: if <code>true</code>, emits a <code>null</code> value for nilable property (by default nulls are not emitted)</li></ul>

<p>Deserialization also respects default values of variables:</p>

<pre><code><span class="k">require</span> <span class="s">&quot;hcl&quot;</span>

<span class="k">struct</span> <span class="t">A</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>]
  @a : <span class="t">Int64</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>]
  @b : <span class="t">Float64</span> <span class="o">=</span> <span class="n">1.0</span>
<span class="k">end</span>

<span class="t">A</span>.from_hcl(<span class="s">&quot;a = 1\n&quot;</span>) <span class="c"># =&gt; A(@a=1, @b=1.0)</span></code></pre>

<h3><a id="extensions-hclserializablestrict-and-hclserializableunmapped." class="anchor" href="#extensions-hclserializablestrict-and-hclserializableunmapped.">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Extensions: <code><a href="../HCL/Serializable/Strict.html">HCL::Serializable::Strict</a></code> and <code><a href="../HCL/Serializable/Unmapped.html">HCL::Serializable::Unmapped</a></code>.</h3>

<p>If the <code><a href="../HCL/Serializable/Strict.html">HCL::Serializable::Strict</a></code> module is included, unknown properties in the HCL
document will raise a parse exception. By default the unknown properties
are silently ignored.
If the <code><a href="../HCL/Serializable/Unmapped.html">HCL::Serializable::Unmapped</a></code> module is included, unknown attributes and blocks in the HCL
document will be stored in respective <code><a href="../Hash.html">Hash</a>(<a href="../String.html">String</a>, <a href="../HCL/AST/Node.html">HCL::AST::Node</a>)</code>. For blocks,
any unmapped labels will be stored in a <code><a href="../Hash.html">Hash</a>(Int32, <a href="../HCL/AST/Node.html">HCL::AST::Node</a>)</code>, where
the key is the label index. On serialization, any keys inside
<code>hcl_unmapped_attributes</code>, <code>hcl_unmapped_blocks</code>, and <code>hcl_unmapped_labels</code>
will be serialized and appended to the current HCL block or document.
The deserialied values are AST nodes in order to allow for later evaluation,
perhaps with a different expression context than the original document.</p>

<pre><code><span class="k">require</span> <span class="s">&quot;hcl&quot;</span>

<span class="k">struct</span> <span class="t">A</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span><span class="t">::</span><span class="t">Unmapped</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Attribute</span>]
  @a : <span class="t">Int32</span>
<span class="k">end</span>

a <span class="o">=</span> <span class="t">A</span>.from_hcl(<span class="s">&quot;a = 1\nb = 2\n&quot;</span>) <span class="c"># =&gt; A(@hcl_unmapped_attributes={&quot;b&quot; =&gt; HCL::AST::Number.new(2_i64)}, @a=1)</span>
a.to_hcl                         <span class="c"># =&gt; &quot;a = 1\nb = 2\n&quot;</span></code></pre>

<h3><a id="class-annotation-hclserializableoptions" class="anchor" href="#class-annotation-hclserializableoptions">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Class annotation <code><a href="../HCL/Serializable/Options.html">HCL::Serializable::Options</a></code></h3>

<p>supported properties:</p>

<ul><li><strong>emit_nulls</strong>: if <code>true</code>, emits a <code>null</code> value for all nilable properties (by default nulls are not emitted)</li></ul>

<pre><code><span class="k">require</span> <span class="s">&quot;hcl&quot;</span>

@[<span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span><span class="t">::</span><span class="t">Options</span>(emit_nulls: <span class="n">true</span>)]
<span class="k">class</span> <span class="t">A</span>
  <span class="k">include</span> <span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>

  @[<span class="t">HCL</span><span class="t">::</span><span class="t">Serializable</span>]
  @a : <span class="t">Int32</span>?
<span class="k">end</span></code></pre>

<p>This module is derived heavily from <a href="https://github.com/crystal-lang/crystal/blob/41bd18fbea4aec50aad33aa3beb7a0bf30544186/src/json/serialization.cr" target="_blank">JSON::Serializable</a></p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/maxfierke/hcl.cr/blob/7968674405f7c45da95e580ea52b95b98d552ccd/src/hcl/serializable.cr#L166" target="_blank">
        hcl/serializable.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(*,__node_from_hcl:HCL::AST::Body,__ctx_from_hcl:HCL::ExpressionContext)-class-method" class="signature"><strong>.new</strong>(*, __node_from_hcl : HCL::AST::Body, __ctx_from_hcl : HCL::ExpressionContext)</a>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#to_hcl(io:IO,node:AST::Node?=AST::Document.new)-instance-method" class="signature"><strong>#to_hcl</strong>(io : IO, node : AST::Node? = <span class="t">AST</span><span class="t">::</span><span class="t">Document</span>.<span class="k">new</span>)</a>
        
          <div class="summary"><p>Serializes HCL and writes it to the given IO as a string.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_hcl(builder:HCL::Builder)-instance-method" class="signature"><strong>#to_hcl</strong>(builder : HCL::Builder)</a>
        
          <div class="summary"><p>Appends passed in <code><a href="../HCL/Builder.html">HCL::Builder</a></code> with the HCL structure of the class/struct.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_hcl-instance-method" class="signature"><strong>#to_hcl</strong></a>
        
          <div class="summary"><p>Returns HCL serialization as a String</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(*,__node_from_hcl:HCL::AST::Body,__ctx_from_hcl:HCL::ExpressionContext)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(*, __node_from_hcl : <a href="../HCL/AST/Body.html">HCL::AST::Body</a>, __ctx_from_hcl : <a href="../HCL/ExpressionContext.html">HCL::ExpressionContext</a>)

        <a class="method-permalink" href="#new(*,__node_from_hcl:HCL::AST::Body,__ctx_from_hcl:HCL::ExpressionContext)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/maxfierke/hcl.cr/blob/7968674405f7c45da95e580ea52b95b98d552ccd/src/hcl/serializable.cr#L195" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="to_hcl(io:IO,node:AST::Node?=AST::Document.new)-instance-method">
      <div class="signature">
        
        def <strong>to_hcl</strong>(io : IO, node : <a href="../HCL/AST/Node.html">AST::Node</a>? = <span class="t">AST</span><span class="t">::</span><span class="t">Document</span>.<span class="k">new</span>)

        <a class="method-permalink" href="#to_hcl(io:IO,node:AST::Node?=AST::Document.new)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Serializes HCL and writes it to the given IO as a string. Root node for
building can be specified by <code>node</code> argument. Defaults to <code><a href="../HCL/AST/Document.html">AST::Document</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/maxfierke/hcl.cr/blob/7968674405f7c45da95e580ea52b95b98d552ccd/src/hcl/serializable.cr#L448" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_hcl(builder:HCL::Builder)-instance-method">
      <div class="signature">
        
        def <strong>to_hcl</strong>(builder : <a href="../HCL/Builder.html">HCL::Builder</a>)

        <a class="method-permalink" href="#to_hcl(builder:HCL::Builder)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Appends passed in <code><a href="../HCL/Builder.html">HCL::Builder</a></code> with the HCL structure of the class/struct.</p>

<p>Returns the passed in <code><a href="../HCL/Builder.html">HCL::Builder</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/maxfierke/hcl.cr/blob/7968674405f7c45da95e580ea52b95b98d552ccd/src/hcl/serializable.cr#L455" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_hcl-instance-method">
      <div class="signature">
        
        def <strong>to_hcl</strong>

        <a class="method-permalink" href="#to_hcl-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns HCL serialization as a String</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/maxfierke/hcl.cr/blob/7968674405f7c45da95e580ea52b95b98d552ccd/src/hcl/serializable.cr#L532" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
